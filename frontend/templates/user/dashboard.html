{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Dashboard - BorrowLink</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f4c81 0%, #1e3a5f 50%, #0a2342 100%);
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }

        /* Animated background elements */
        .bg-decoration {
            position: fixed;
            border-radius: 50%;
            opacity: 0.1;
            animation: float 20s infinite ease-in-out;
            pointer-events: none;
        }

        .circle-1 {
            width: 400px;
            height: 400px;
            background: radial-gradient(circle, #4a90e2, transparent);
            top: -100px;
            right: -100px;
        }

        .circle-2 {
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, #5ba3f5, transparent);
            bottom: -80px;
            left: -80px;
            animation-delay: 5s;
        }

        @keyframes float {
            0%, 100% { transform: translate(0, 0) scale(1); }
            33% { transform: translate(30px, -30px) scale(1.1); }
            66% { transform: translate(-20px, 20px) scale(0.9); }
        }

        /* Navbar */
        .navbar {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding: 15px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .navbar-brand {
            display: flex;
            align-items: center;
            gap: 12px;
            color: white;
            font-size: 20px;
            font-weight: 700;
            letter-spacing: 0.5px;
        }

        .navbar-brand svg {
            width: 32px;
            height: 32px;
            fill: #5ba3f5;
        }

        .navbar ul {
            display: flex;
            list-style: none;
            gap: 5px;
            margin: 0;
            padding: 0;
        }

        .navbar ul li a {
            text-decoration: none;
            color: rgba(255, 255, 255, 0.85);
            font-weight: 500;
            padding: 10px 18px;
            border-radius: 8px;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .navbar ul li a:hover {
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }

        .navbar ul li.logout a {
            background: rgba(239, 68, 68, 0.2);
            color: #ff6b6b;
        }

        .navbar ul li.logout a:hover {
            background: rgba(239, 68, 68, 0.3);
            color: #ff5252;
        }

        .navbar .profile {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50px;
            text-decoration: none;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.15);
        }

        .navbar .profile:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .navbar .profile img {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .navbar .profile span {
            font-weight: 600;
            color: #fff;
            font-size: 14px;
        }

        /* Dashboard Container */
        .dashboard-container {
            max-width: 1200px;
            margin: 40px auto;
            padding: 0 40px;
            position: relative;
            z-index: 10;
        }

        /* Welcome Card */
        .welcome-card {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            animation: slideIn 0.6s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .welcome-card h1 {
            color: white;
            font-size: 32px;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .user-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 25px;
        }

        .info-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .info-item strong {
            color: #87c5ff;
            font-size: 13px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            display: block;
            margin-bottom: 8px;
        }

        .info-item p {
            color: white;
            font-size: 18px;
            font-weight: 600;
        }

        .welcome-description {
            color: rgba(255, 255, 255, 0.8);
            font-size: 16px;
            line-height: 1.6;
            margin-top: 20px;
            padding: 20px;
            background: rgba(91, 163, 245, 0.1);
            border-radius: 12px;
            border-left: 4px solid #5ba3f5;
        }

        /* Quick Actions Grid */
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .action-card {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(20px);
            border-radius: 16px;
            padding: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            text-decoration: none;
            display: block;
            animation: slideIn 0.6s ease-out;
        }

        .action-card:nth-child(1) { animation-delay: 0.1s; }
        .action-card:nth-child(2) { animation-delay: 0.2s; }
        .action-card:nth-child(3) { animation-delay: 0.3s; }
        .action-card:nth-child(4) { animation-delay: 0.4s; }

        .action-card:hover {
            background: rgba(255, 255, 255, 0.12);
            transform: translateY(-5px);
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.3);
        }

        .action-card-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #5ba3f5, #3d8be8);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
        }

        .action-card-icon svg {
            width: 28px;
            height: 28px;
            fill: white;
        }

        .action-card h3 {
            color: white;
            font-size: 20px;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .action-card p {
            color: rgba(255, 255, 255, 0.7);
            font-size: 14px;
            line-height: 1.5;
        }

        /* Mobile Menu Toggle */
        .mobile-menu-toggle {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            padding: 5px;
        }

        /* Responsive */
        @media (max-width: 968px) {
            .navbar {
                padding: 15px 20px;
                flex-wrap: wrap;
            }

            .navbar ul {
                display: none;
                width: 100%;
                flex-direction: column;
                margin-top: 15px;
                gap: 5px;
            }

            .navbar ul.show {
                display: flex;
            }

            .mobile-menu-toggle {
                display: block;
            }

            .dashboard-container {
                padding: 0 20px;
                margin: 30px auto;
            }

            .welcome-card {
                padding: 25px;
            }

            .welcome-card h1 {
                font-size: 24px;
            }

            .quick-actions {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 580px) {
            .user-info {
                grid-template-columns: 1fr;
            }

            .navbar-brand {
                font-size: 18px;
            }

            .navbar .profile span {
                display: none;
            }
        }
    </style>
</head>

<body>
    <div class="bg-decoration circle-1"></div>
    <div class="bg-decoration circle-2"></div>

    <nav class="navbar">
        <div class="navbar-brand">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M3 7.5C3 5.567 4.567 4 6.5 4h11c1.933 0 3.5 1.567 3.5 3.5v9c0 1.933-1.567 3.5-3.5 3.5h-11C4.567 20 3 18.433 3 16.5v-9zm6 2.5c0-.552.448-1 1-1h4c.552 0 1 .448 1 1s-.448 1-1 1h-4c-.552 0-1-.448-1-1zm0 4c0-.552.448-1 1-1h4c.552 0 1 .448 1 1s-.448 1-1 1h-4c-.552 0-1-.448-1-1z"/>
            </svg>
            BORROWLINK
        </div>

        <button class="mobile-menu-toggle" onclick="toggleMenu()">â˜°</button>

        <ul id="navMenu">
            <li><a href="{% url 'user_dashboard' %}">Dashboard</a></li>
            <li><a href="{% url 'browse_items' %}">Browse Items</a></li>
            <li><a href="{% url 'my_borrows' %}">My Borrowed</a></li>
            <li><a href="{% url 'user_penalties' %}">Penalties</a></li>
            <li class="logout"><a href="{% url 'signout' %}">Logout</a></li>
        </ul>

        <a href="{% url 'user_profile' %}" class="profile">
            {% if request.user.profile.profile_image %}
                <img src="{{ request.user.profile.profile_image.url }}" alt="Profile">
            {% else %}
                <img src="{% static 'images/default-profile.png' %}" alt="Profile">
            {% endif %}
            <span>{{ request.user.username }}</span>
        </a>
    </nav>

    <div class="dashboard-container">
        <div class="welcome-card">
            <h1>Welcome back, {{ request.user.username }}! ðŸ‘‹</h1>
            
            <div class="user-info">
                <div class="info-item">
                    <strong>Department</strong>
                    <p>{{ request.user.profile.department }}</p>
                </div>
                <div class="info-item">
                    <strong>ID Number</strong>
                    <p>{{ request.user.profile.id_number }}</p>
                </div>
                <div class="info-item">
                    <strong>Account Status</strong>
                    <p>Active</p>
                </div>
            </div>

            <div class="welcome-description">
                Welcome to BorrowLink! Here you can easily browse available items, manage your borrowing history, track current borrows, and view any penalties. Get started by exploring our inventory or checking your borrowed items.
            </div>
        </div>

        <div class="quick-actions">
            <a href="{% url 'browse_items' %}" class="action-card">
                <div class="action-card-icon">
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke="currentColor" stroke-width="2" fill="none"/>
                    </svg>
                </div>
                <h3>Browse Items</h3>
                <p>Explore our complete inventory of available items ready for borrowing</p>
            </a>

            <a href="{% url 'my_borrows' %}" class="action-card">
                <div class="action-card-icon">
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"/>
                    </svg>
                </div>
                <h3>My Borrowed Items</h3>
                <p>View and manage all items you currently have borrowed</p>
            </a>

            <a href="{% url 'user_penalties' %}" class="action-card">
                <div class="action-card-icon">
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/>
                    </svg>
                </div>
                <h3>Penalties</h3>
                <p>Check your penalty status and any outstanding fees</p>
            </a>

            <a href="{% url 'user_profile' %}" class="action-card">
                <div class="action-card-icon">
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                    </svg>
                </div>
                <h3>My Profile</h3>
                <p>View and update your personal information and settings</p>
            </a>
        </div>
    </div>

    <script>
        function toggleMenu() {
            const menu = document.getElementById('navMenu');
            menu.classList.toggle('show');
        }
    </script>
</body>

</html>